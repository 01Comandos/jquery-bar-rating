!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=function(){function e(){var e=this,n=function(){var n=[e.options.wrapperClass];""!==e.options.theme&&n.push("br-theme-"+e.options.theme),e.$elem.wrap(t("<div />",{"class":n.join(" ")}))},a=function(){e.$elem.unwrap()},r=function(){var n;return n=e.options.initialRating?t('option[value="'+e.options.initialRating+'"]',e.$elem):t("option:selected",e.$elem)},i=function(t){var n=e.$elem.data("barrating");return"undefined"!=typeof t?n[t]:n},o=function(t,n){null!==n&&"object"==typeof n?e.$elem.data("barrating",n):e.$elem.data("barrating")[t]=n},s=function(){var t=r();o(null,{userOptions:e.options,ratingValue:t.val(),ratingText:t.data("html")?t.data("html"):t.text(),originalRatingValue:t.val(),originalRatingText:t.data("html")?t.data("html"):t.text()}),o("deselectable",e.$elem.find("option:first").val()?!1:!0)},l=function(){e.$elem.removeData("barrating")},u=function(){return i("ratingText")},c=function(){return i("ratingValue")},d=function(){return i("deselectable")},f=function(){var n=t("<div />",{"class":"br-widget"});return e.$elem.find("option").each(function(){var a,r,i,o,s;a=t(this).val(),a&&(r=t(this).text(),i=t(this).data("html"),i&&(r=i),o=t("<a />",{href:"#","data-rating-value":a,"data-rating-text":r}),s=t("<span />",{html:e.options.showValues?r:""}),n.append(o.append(s)))}),e.options.showSelectedRating&&n.append(t("<div />",{text:"","class":"br-current-rating"})),e.options.reverse&&n.addClass("br-reverse"),e.options.readonly&&n.addClass("br-readonly"),n},p=function(){return e.options.reverse?"nextAll":"prevAll"},h=function(t){e.$elem.find('option[value="'+t+'"]').prop("selected",!0),e.$elem.change()},v=function(t){t=t?t:u(),e.options.showSelectedRating&&e.$elem.parent().find(".br-current-rating").text(t)},g=function(t){t.find("a").removeClass("br-selected br-current"),t.find('a[data-rating-value="'+c()+'"]').addClass("br-selected br-current")[p()]().addClass("br-selected")},m=function(n){n.on("click",function(a){var r,i,s=t(this);return a.preventDefault(),n.removeClass("br-active br-selected"),s.addClass("br-selected")[p()]().addClass("br-selected"),r=s.attr("data-rating-value"),i=s.attr("data-rating-text"),s.hasClass("br-current")&&d()?(s.removeClass("br-selected br-current")[p()]().removeClass("br-selected br-current"),r="",i=""):(n.removeClass("br-current"),s.addClass("br-current")),o("ratingValue",r),o("ratingText",i),h(r),v(i),e.options.onSelect.call(this,c(),u()),!1})},b=function(e){e.on({mouseenter:function(){var n=t(this);e.removeClass("br-active br-selected"),n.addClass("br-active")[p()]().addClass("br-active"),v(n.attr("data-rating-text"))}})},w=function(t,e){e.on({mouseleave:function(){t.removeClass("br-active"),v(),g(e)}})},$=function(e){e.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).click()})},C=function(t){t.on("click",function(t){t.preventDefault()})};this.show=function(){var t,a;i()||(n(),s(),t=f(),t.insertAfter(e.$elem),g(t),v(),a=t.find("a"),e.options.fastClicks&&$(a),e.options.readonly?C(a):(m(a),e.options.hoverState&&(b(a),w(a,t))),e.$elem.hide())},this.set=function(t){var e=i("userOptions");this.$elem.find('option[value="'+t+'"]').val()&&(o("ratingValue",t),o("ratingText",this.$elem.find('option[value="'+t+'"]').text()),h(c()),v(u()),g(this.$widget),e.onSelect.call(this,c(),u()))},this.clear=function(){var t=i("userOptions");o("ratingValue",i("originalRatingValue")),o("ratingText",i("originalRatingText")),h(c()),v(u()),g(this.$widget),t.onClear.call(this,c(),u())},this.destroy=function(){var t=c(),e=u(),n=i("userOptions");this.$widget.off().remove(),l(),a(),this.$elem.show(),n.onDestroy.call(this,t,e)}}return e.prototype.init=function(e,n){return this.$elem=t(n),this.options=t.extend({},t.fn.barrating.defaults,e),this.options},e}();t.fn.barrating=function(n,a){return this.each(function(){var r=new e;if(t(this).is("select")||t.error("Sorry, this plugin only works with select fields."),r.hasOwnProperty(n)){if(r.init(a,this),"show"===n)return r.show(a);if(r.$elem.data("barrating"))return r.$widget=t(this).next(".br-widget"),r[n](a)}else{if("object"==typeof n||!n)return a=n,r.init(a,this),r.show();t.error("Method "+n+" does not exist on jQuery.barrating")}})},t.fn.barrating.defaults={theme:"",initialRating:null,showValues:!1,showSelectedRating:!0,reverse:!1,readonly:!1,fastClicks:!0,hoverState:!0,wrapperClass:"br-wrapper",onSelect:function(t,e){},onClear:function(t,e){},onDestroy:function(t,e){}},t.fn.barrating.BarRating=e});
//# sourceMappingURL=jquery.barrating.min.js.map